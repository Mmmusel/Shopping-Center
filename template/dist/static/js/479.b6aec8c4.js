"use strict";(self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[]).push([[479],{1479:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});var a=s(998),o=s(1713),n=function(){var t=this,e=t._self._c;return e(a.Z,{attrs:{id:"main_page"}},[e("div",{staticClass:"login-info"},[t.login?[e("form",{staticClass:"login-info-form"},[e("p",[t._v("登陆界面")]),e("br"),e("span",[t._v("用户账号: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),e("br"),e("span",[t._v("用户密码: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),e("br"),e("br"),e("input",{staticClass:"submit",attrs:{type:"button",value:"提交"},on:{click:t.goHome}}),e("input",{staticClass:"submit",attrs:{type:"button",value:"前往注册"},on:{click:function(e){return t.changeLogin(!1,!0)}}})])]:t._e(),t.register?[e("form",{staticClass:"login-info-form"},[e("p",[t._v("注册界面")]),e("br"),e("span",[t._v("用户账号: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),e("br"),e("span",[t._v("用户密码: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),e("br"),e("span",[t._v("确认密码: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],attrs:{type:"password"},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}}),e("br"),e("br"),e(o.Z,{attrs:{justify:"center"}},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.radioVal,expression:"radioVal"}],attrs:{type:"radio",value:"用户"},domProps:{checked:t._q(t.radioVal,"用户")},on:{change:[function(e){t.radioVal="用户"},t.getRadioVal]}}),t._v("用户")]),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.radioVal,expression:"radioVal"}],attrs:{type:"radio",value:"商家"},domProps:{checked:t._q(t.radioVal,"商家")},on:{change:[function(e){t.radioVal="商家"},t.getRadioVal]}}),t._v("商家")])]),e("br"),e("br"),e("input",{staticClass:"submit",attrs:{type:"button",value:"提交"},on:{click:t.goLogin}}),e("input",{staticClass:"submit",attrs:{type:"button",value:"已有账号"},on:{click:function(e){return t.changeLogin(!0,!1)}}})],1)]:t._e()],2)])},r=[],i=s(8491),l={name:"login_View",data(){return{login:!1,radioVal:"用户",register:!0,username:"",password:"",confirmPassword:"",res:!1,userId:0}},methods:{getRadioVal(){},async goLogin(){i.Z.trim(this.username)&&i.Z.trim(this.password)?this.password!==this.confirmPassword?(window.alert("密码不一致，请重新输入"),this.password="",this.confirmPassword=""):(await this.addUserInfo(this.username,this.password),this.res?(this.register=!1,window.localStorage.setItem("loginStatus","login"),await window.localStorage.setItem("userId",this.userId),this.$store.commit("editUserId",this.userId),window.alert("注册成功，确定进入网站首页"),"用户"===this.radioVal?window.location.href="/#/customerHome":window.location.href="/#/business"):(window.alert("用户名重复，请再次尝试"),this.username="",this.password="",this.confirmPassword="")):window.alert("账号或密码不能为空")},changeLogin(t,e){this.login=t,this.register=e},async goHome(){i.Z.trim(this.username)&&i.Z.trim(this.password)?(await this.searchUserInfo(this.username,this.password),this.res?(this.login=!1,window.localStorage.setItem("loginStatus","login"),await window.localStorage.setItem("userId",this.userId),this.$store.commit("editUserId",this.userId),console.log(this.userId),window.alert("登陆成功，进入网站首页"),"用户"===this.radioVal?window.location.href="/#/customerHome":window.location.href="/#/business"):window.alert("账号或密码错误")):window.alert("账号或密码不能为空")},async addUserInfo(t,e){await this.axios.get("add_userInfo/",{params:{user_name:t,user_password:e,user_type:this.radioVal}}).catch((function(t){console.log(t),this.res=!1})).then((t=>{if(0!==t.data.error_num)return this.res=!1,void console.log(t.data.msg);console.log(t.data.msg),this.userId=t.data.userId,this.res=!0}))},async getType(){await this.axios.get("search_usertype/",{params:{user_id:this.$store.state.userId}}).catch((function(t){console.log(t)})).then((t=>{this.radioVal=t.data.user_type}))},async searchUserInfo(t,e){await this.axios.get("search_userInfo/",{params:{user_name:t,user_password:e}}).catch((function(s){console.log(s),console.log(t),console.log(e),this.res=!1})).then((t=>{if(0!==t.data.error_num)return this.res=!1,void console.log(t.data.msg);this.res=!0,console.log(t.data),this.userId=t.data.userId,this.radioVal=t.data.user_type}))}},async created(){if("logout"===this.$route.params.loginStatus)return window.localStorage.removeItem("loginStatus"),void this.$store.commit("getLoginStatus",!1);const t=this.$store.state.loginStatus;t&&(this.login=!1,this.register=!1,await this.getType(),window.alert("您已经是登录状态"),"用户"===this.radioVal?window.location.href="/#/customerHome":window.location.href="/#/business")}},u=l,c=s(1001),d=(0,c.Z)(u,n,r,!1,null,"47080aab",null),p=d.exports},1884:function(){},1713:function(t,e,s){s(7658),s(1884);var a=s(144),o=s(1767),n=s(5352);const r=["sm","md","lg","xl"],i=["start","end","center"];function l(t,e){return r.reduce(((s,a)=>(s[t+(0,n.jC)(a)]=e(),s)),{})}const u=t=>[...i,"baseline","stretch"].includes(t),c=l("align",(()=>({type:String,default:null,validator:u}))),d=t=>[...i,"space-between","space-around"].includes(t),p=l("justify",(()=>({type:String,default:null,validator:d}))),m=t=>[...i,"space-between","space-around","stretch"].includes(t),g=l("alignContent",(()=>({type:String,default:null,validator:m}))),f={align:Object.keys(c),justify:Object.keys(p),alignContent:Object.keys(g)},h={align:"align",justify:"justify",alignContent:"align-content"};function w(t,e,s){let a=h[t];if(null!=s){if(e){const s=e.replace(t,"");a+=`-${s}`}return a+=`-${s}`,a.toLowerCase()}}const v=new Map;e["Z"]=a["default"].extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:u},...c,justify:{type:String,default:null,validator:d},...p,alignContent:{type:String,default:null,validator:m},...g},render(t,{props:e,data:s,children:a}){let n="";for(const o in e)n+=String(e[o]);let r=v.get(n);if(!r){let t;for(t in r=[],f)f[t].forEach((s=>{const a=e[s],o=w(t,s,a);o&&r.push(o)}));r.push({"no-gutters":e.noGutters,"row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),v.set(n,r)}return t(e.tag,(0,o.ZP)(s,{staticClass:"row",class:r}),a)}})},1767:function(t,e,s){s.d(e,{ZP:function(){return r}});var a=s(5352);const o={styleList:/;(?![^(]*\))/g,styleProp:/:(.*)/};function n(t){const e={};for(const s of t.split(o.styleList)){let[t,n]=s.split(o.styleProp);t=t.trim(),t&&("string"===typeof n&&(n=n.trim()),e[(0,a._A)(t)]=n)}return e}function r(){const t={};let e,s=arguments.length;while(s--)for(e of Object.keys(arguments[s]))switch(e){case"class":case"directives":arguments[s][e]&&(t[e]=l(t[e],arguments[s][e]));break;case"style":arguments[s][e]&&(t[e]=i(t[e],arguments[s][e]));break;case"staticClass":if(!arguments[s][e])break;void 0===t[e]&&(t[e]=""),t[e]&&(t[e]+=" "),t[e]+=arguments[s][e].trim();break;case"on":case"nativeOn":arguments[s][e]&&(t[e]=u(t[e],arguments[s][e]));break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":if(!arguments[s][e])break;t[e]||(t[e]={}),t[e]={...arguments[s][e],...t[e]};break;default:t[e]||(t[e]=arguments[s][e])}return t}function i(t,e){return t?e?(t=(0,a.TI)("string"===typeof t?n(t):t),t.concat("string"===typeof e?n(e):e)):t:e}function l(t,e){return e?t&&t?(0,a.TI)(t).concat(e):e:t}function u(...t){if(!t[0])return t[1];if(!t[1])return t[0];const e={};for(let s=2;s--;){const a=t[s];for(const t in a)a[t]&&(e[t]?e[t]=[].concat(a[t],e[t]):e[t]=a[t])}return e}}}]);
//# sourceMappingURL=479.b6aec8c4.js.map