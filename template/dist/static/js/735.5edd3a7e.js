"use strict";(self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[]).push([[735],{881:function(e,t,s){s.r(t),s.d(t,{default:function(){return L}});var r=s(6190),a=s(9582),i=s(4886),n=s(322),o=s(2118),c=s(3821),l=s(9223),u=s(4324),d=s(5808),m=s(4525),f=s(8251),g=s(5626),p=s(1713),h=s(3687),_=s(6313),P=s(7953),y=function(){var e=this,t=e._self._c;return t("div",[t(o.Z,{attrs:{fluid:""}},[t(c.Z,{attrs:{items:e.productsList,"items-per-page":e.itemsPerPage,page:e.page,search:e.search,"hide-default-footer":""},on:{"update:itemsPerPage":function(t){e.itemsPerPage=t},"update:items-per-page":function(t){e.itemsPerPage=t}},scopedSlots:e._u([{key:"header",fn:function(){return[t(_.Z,{staticClass:"mb-1",attrs:{dark:"",color:"blue darken-3"}},[t(h.Z),t(P.qW,[t("h4",[e._v("上架商品")])]),t(h.Z)],1)]},proxy:!0},{key:"default",fn:function(s){return[t(p.Z,e._l(s.items,(function(s){return t(n.Z,{key:s.fields.product_name,attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[t(a.Z,[t(i.EB,{staticClass:"subheading font-weight-bold"},[e._v(e._s(s.fields.product_name))]),t(l.Z),t(d.Z,{attrs:{dense:""}},e._l(e.myFilteredKeys,(function(r,a){return t(m.Z,{key:a},[t(f.km,[e._v(e._s(r)+":")]),t(f.km,{staticClass:"align-end"},[e._v(e._s(s.fields[r]))])],1)})),1)],1)],1)})),1)]}},{key:"footer",fn:function(){return[t(p.Z,{staticClass:"mt-2",attrs:{align:"center",justify:"center"}},[t("span",{staticClass:"grey--text"},[e._v("Items per page")]),t(g.Z,{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(r.Z,e._g(e._b({staticClass:"ml-2",attrs:{dark:"",text:"",color:"primary"}},"v-btn",a,!1),s),[e._v(" "+e._s(e.itemsPerPage)+" "),t(u.Z,[e._v("mdi-chevron-down")])],1)]}}])},[t(d.Z,e._l(e.itemsPerPageArray,(function(s,r){return t(m.Z,{key:r,on:{click:function(t){return e.updateItemsPerPage(s)}}},[t(f.V9,[e._v(e._s(s))])],1)})),1)],1),t(h.Z),t("span",{staticClass:"mr-4 grey--text"},[e._v(" Page "+e._s(e.page)+" of "+e._s(e.numberOfPages)+" ")]),t(r.Z,{staticClass:"mr-1",attrs:{fab:"",dark:"",color:"blue darken-3"},on:{click:e.formerPage}},[t(u.Z,[e._v("mdi-chevron-left")])],1),t(r.Z,{staticClass:"ml-1",attrs:{fab:"",dark:"",color:"blue darken-3"},on:{click:e.nextPage}},[t(u.Z,[e._v("mdi-chevron-right")])],1)],1)]},proxy:!0}])})],1)],1)},k=[],Z={name:"business_commodity",data(){return{itemsPerPageArray:[4,8,12],search:"",filter:{},sortDesc:!1,page:1,itemsPerPage:4,keys:["库存","金额"],productsList:[],items:[{name:"手机","库存":1e4,"金额":"5000元"},{name:"面包","库存":5e4,"金额":"3元"},{name:"牛奶1","库存":1e3,"金额":"5元"},{name:"牛奶2","库存":1e3,"金额":"5元"},{name:"牛奶3","库存":1e3,"金额":"5元"},{name:"牛奶4","库存":1e3,"金额":"5元"},{name:"牛奶5","库存":1e3,"金额":"5元"}]}},computed:{numberOfPages(){return Math.ceil(this.productsList.length/this.itemsPerPage)},filteredKeys(){return this.keys.filter((e=>"Name"!==e))},myFilteredKeys(){return 0!=this.productsList.length?Object.keys(this.productsList[1].fields).filter((e=>"product_name"!==e)):[]}},methods:{nextPage(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage(e){this.itemsPerPage=e},async getProductsList(){await this.axios.get("show_products/").then((e=>{console.log(e.data.list),this.productsList=e.data.list.filter((e=>e.fields.product_business===this.$store.state.userId)),console.log(this.productsList)})).catch((function(e){console.log(e)}))}},async created(){await this.getProductsList(),console.log("this"),console.log(JSON.stringify(this.productsList)),console.log(this.myFilteredKeys)}},v=Z,b=s(1001),C=(0,b.Z)(v,y,k,!1,null,null,null),L=C.exports},7953:function(e,t,s){s.d(t,{qW:function(){return i}});var r=s(6313),a=s(5352);const i=(0,a.Ji)("v-toolbar__title"),n=(0,a.Ji)("v-toolbar__items");r.Z}}]);
//# sourceMappingURL=735.5edd3a7e.js.map