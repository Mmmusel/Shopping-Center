"use strict";(self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[]).push([[394],{8387:function(t,e,s){s.r(e),s.d(e,{default:function(){return L}});var r=s(6190),a=s(9582),i=s(4886),n=s(322),o=s(2118),c=s(3821),l=s(9223),u=s(4324),d=s(5808),m=s(4525),f=s(6098),g=s(5626),p=s(1713),h=s(3687),_=s(6313),y=s(7953),P=function(){var t=this,e=t._self._c;return e("div",[e(o.Z,{attrs:{fluid:""}},[e(c.Z,{attrs:{items:t.productsList,"items-per-page":t.itemsPerPage,page:t.page,search:t.search,"hide-default-footer":""},on:{"update:itemsPerPage":function(e){t.itemsPerPage=e},"update:items-per-page":function(e){t.itemsPerPage=e}},scopedSlots:t._u([{key:"header",fn:function(){return[e(_.Z,{staticClass:"mb-1",attrs:{dark:"",color:"blue darken-3"}},[e(h.Z),e(y.qW,[e("h4",[t._v("上架商品")])]),e(h.Z)],1)]},proxy:!0},{key:"default",fn:function(s){return[e(p.Z,t._l(s.items,(function(s){return e(n.Z,{key:s.fields.product_name,attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[e(a.Z,[e(i.EB,{staticClass:"subheading font-weight-bold"},[t._v(t._s(s.fields.product_name))]),e(l.Z),e(d.Z,{attrs:{dense:""}},t._l(t.myFilteredKeys,(function(r,a){return e(m.Z,{key:a},[e(f.km,[t._v(t._s(r)+":")]),e(f.km,{staticClass:"align-end"},[t._v(t._s(s.fields[r]))])],1)})),1)],1)],1)})),1)]}},{key:"footer",fn:function(){return[e(p.Z,{staticClass:"mt-2",attrs:{align:"center",justify:"center"}},[e("span",{staticClass:"grey--text"},[t._v("Items per page")]),e(g.Z,{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(r.Z,t._g(t._b({staticClass:"ml-2",attrs:{dark:"",text:"",color:"primary"}},"v-btn",a,!1),s),[t._v(" "+t._s(t.itemsPerPage)+" "),e(u.Z,[t._v("mdi-chevron-down")])],1)]}}])},[e(d.Z,t._l(t.itemsPerPageArray,(function(s,r){return e(m.Z,{key:r,on:{click:function(e){return t.updateItemsPerPage(s)}}},[e(f.V9,[t._v(t._s(s))])],1)})),1)],1),e(h.Z),e("span",{staticClass:"mr-4 grey--text"},[t._v(" Page "+t._s(t.page)+" of "+t._s(t.numberOfPages)+" ")]),e(r.Z,{staticClass:"mr-1",attrs:{fab:"",dark:"",color:"blue darken-3"},on:{click:t.formerPage}},[e(u.Z,[t._v("mdi-chevron-left")])],1),e(r.Z,{staticClass:"ml-1",attrs:{fab:"",dark:"",color:"blue darken-3"},on:{click:t.nextPage}},[e(u.Z,[t._v("mdi-chevron-right")])],1)],1)]},proxy:!0}])})],1),e(r.Z,{staticClass:"ma-2",attrs:{color:"success"},on:{click:t.addCommodity}},[t._v(" 添加商品 ")])],1)},k=[],Z=(s(7658),{name:"business_commodity",data(){return{itemsPerPageArray:[4,8,12],search:"",filter:{},sortDesc:!1,page:1,itemsPerPage:4,keys:["库存","金额"],productsList:[],items:[{name:"手机","库存":1e4,"金额":"5000元"},{name:"面包","库存":5e4,"金额":"3元"},{name:"牛奶1","库存":1e3,"金额":"5元"},{name:"牛奶2","库存":1e3,"金额":"5元"},{name:"牛奶3","库存":1e3,"金额":"5元"},{name:"牛奶4","库存":1e3,"金额":"5元"},{name:"牛奶5","库存":1e3,"金额":"5元"}]}},computed:{numberOfPages(){return Math.ceil(this.productsList.length/this.itemsPerPage)},filteredKeys(){return this.keys.filter((t=>"Name"!==t))},myFilteredKeys(){return 0!=this.productsList.length?Object.keys(this.productsList[1].fields).filter((t=>"product_name"!==t)):[]}},methods:{nextPage(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage(t){this.itemsPerPage=t},async getProductsList(){await this.axios.get("show_products/").then((t=>{console.log(t.data.list),this.productsList=t.data.list.filter((t=>t.fields.product_business===this.$store.state.userId)),console.log(this.productsList)})).catch((function(t){console.log(t)}))},addCommodity(){this.$router.push({path:"/business/commodity/add_commodity"})}},async created(){await this.getProductsList(),console.log("this"),console.log(JSON.stringify(this.productsList)),console.log(this.myFilteredKeys)}}),v=Z,b=s(1001),C=(0,b.Z)(v,P,k,!1,null,null,null),L=C.exports},7953:function(t,e,s){s.d(e,{qW:function(){return i}});var r=s(6313),a=s(5352);const i=(0,a.Ji)("v-toolbar__title"),n=(0,a.Ji)("v-toolbar__items");r.Z}}]);
//# sourceMappingURL=394.354e72ec.js.map